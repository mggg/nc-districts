(this.webpackJsonpnc=this.webpackJsonpnc||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),o=(a(15),a(16),a(17),a(2)),s=a(3),l=a(5),u=a(6),h=a(7),m=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this)).state={selectItem:0},n.clickTest=n.clickTest.bind(Object(h.a)(n)),n}return Object(s.a)(a,[{key:"clickTest",value:function(e,t){e.preventDefault(),this.props.disabled||(this.setState({selectItem:t}),this.props.switchLayer(t))}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},this.props.labels.map((function(t,a){return r.a.createElement("li",{className:"nav-item",key:a},r.a.createElement("a",{className:"nav-link "+(a===e.state.selectItem?"active":""),href:"#",onClick:function(t){e.clickTest(t,a)}},t.name))}))))}}]),a}(r.a.Component),p=a(1);function d(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,n,r="#";for(n=0;n<3;n++)a=parseInt(e.substr(2*n,2),16),r+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return r}function f(e){var t=["match",["feature-state","color"]].concat(Object(p.a)(e.map((function(e){return[e.id,e.color]})).reduce((function(e,t){return[].concat(Object(p.a)(e),Object(p.a)(t))}))),["rgba(0, 0, 0, 0)"]);return["case",["boolean",["feature-state","hover"],!1],["match",["feature-state","color"]].concat(Object(p.a)(e.map((function(e){return[e.id,e.hoverColor]})).reduce((function(e,t){return[].concat(Object(p.a)(e),Object(p.a)(t))}))),["#aaaaaa"]),t]}function v(e){return["case",["==",["feature-state","hover"],!0],d(e,-.3),e]}var y=["case",["<",["get","B19013_001"],3e4],v("#edf8fb"),["<",["get","B19013_001"],6e4],v("#ccece6"),["<",["get","B19013_001"],9e4],v("#99d8c9"),["<",["get","B19013_001"],12e4],v("#66c2a4"),["<",["get","B19013_001"],15e4],v("#2ca25f"),v("#006d2c")],g=["case",["<",["get","B01002_001"],20],v("#edf8fb"),["<",["get","B01002_001"],35],v("#ccece6"),["<",["get","B01002_001"],50],v("#99d8c9"),["<",["get","B01002_001"],65],v("#66c2a4"),["<",["get","B01002_001"],80],v("#2ca25f"),v("#006d2c")],E=[0,"rgba(0,0,0,0)",.499,"rgba(0,0,0,0)",.5,"rgba(249,249,249,0)",1,"rgb(25, 118, 210)"],b=[0,"rgba(0,0,0,0)",.499,"rgba(0,0,0,0)",.5,"rgba(174,174,174,0.5)",1,"rgb(18, 83, 147)"],k=[0,"rgba(0,0,0,0)",.499,"rgba(0,0,0,0)",.5,"rgba(249,249,249,0)",1,"rgb(211, 47, 47)"],L=[0,"rgba(0,0,0,0)",.499,"rgba(0,0,0,0)",.5,"rgba(174,174,174,0.5)",1,"rgb(148, 33, 33)"];function S(e){return["case",["==",["get","TOTPOP"],0],"#ccc",["interpolate",["linear"],["/",["get",e[1]],["get","TOTPOP"]]].concat([0,"rgba(200, 200, 255, 0)",e[2]+.01,"rgba(0, 0, 255, 0.6)"])]}var _={"circle-radius":4,"circle-color":["match",["get","CLASS_STATUS"],"Title V","purple","Synthetic Minor","green","Small","red","Permit Exempt","blue","Registered","orange","Permit/Registration Pending","yellow","#ccc"]};function O(e){var t={},a=[],n=e.selected,i="",c=0,o=0;if(n.length){(a=Object.keys(n[0].properties).filter((function(e){return 0===e.indexOf("age_")})).sort((function(e,t){return e.split("_")[1].replace("lt","0")-t.split("_")[1].replace("lt","0")}))).forEach((function(e){return t[e]=0}));var s=0;n.forEach((function(e){a.forEach((function(a){return t[a]+=e.properties[a]})),s+=e.properties.TOTPOP,c+=e.properties.TOTPOP*e.properties.B01002_001})),c/=s;var l=s/2;a.forEach((function(e,a){""===i&&(l-=t[e])<=0&&(i=a)}))}var u=a.map((function(e){var a=e.replace("lt_5","0_4").replace("85_plu","85_90").split("_"),n=2===a.length?1:a[2]-a[1]+1,r=t[e]/n;return o=Math.max(o,r),{width:6*n,height:r}}));return r.a.createElement("div",null,r.a.createElement("span",null,"Layer: Median Age"),r.a.createElement("div",{className:"palette"},g.filter((function(e){return"case"===e[0]})).map((function(e,t){return r.a.createElement("div",{className:"square",key:t,style:{background:e[3]}})}))),r.a.createElement("div",{className:"nums"},g.filter((function(e){return"<"===e[0]})).map((function(e,t){return r.a.createElement("div",{className:"square",key:t},t?"":"< ",e[2])})),r.a.createElement("div",{className:"square"},"> ",g[g.length-3][2])),r.a.createElement("span",null,"Source: US Census ACS (2018)"),r.a.createElement("div",{className:"histogram"},u.map((function(e,t){var a=t===i;return r.a.createElement("div",{key:t,style:{background:a?"#888":"#444",width:e.width,height:e.height/o*100}})}))),u.length?r.a.createElement("div",null,r.a.createElement("small",null,"Youngest to Oldest"),r.a.createElement("br",null),r.a.createElement("span",null,"Median: ",c?c.toFixed(1):"N/A")):null)}function P(e){var t=[],a=[],n=e.selected,i="",c="",o=0;if(n.length){a=Object.keys(n[0].properties).filter((function(e){return 0===e.indexOf("B19001_")})).sort(),t=a.map((function(e){return 0}));var s=0;n.forEach((function(e){a.forEach((function(a,n){t[n]+=e.properties[a],s+=e.properties[a]}))}));var l=s/2;t.forEach((function(e,t){o=Math.max(o,e),""===i&&(l-=e)<=0&&(i=t,c=["< 10k","10-15k","15-20k","20-25k","25-30k","30-35k","35-40k","40-45k","45-50k","50-60k","60-75k","75-100k","100-125k","125-150k","150-200k","> 200k"][t])}))}return r.a.createElement("div",null,r.a.createElement("span",null,"Layer: Median Household Income"),r.a.createElement("div",{className:"palette"},y.filter((function(e){return"case"===e[0]})).map((function(e,t){return r.a.createElement("div",{className:"square",key:t,style:{background:e[3]}})}))),r.a.createElement("div",{className:"nums"},y.filter((function(e){return"<"===e[0]})).map((function(e,t){return r.a.createElement("div",{className:"square",key:t},t?"":"< ",Math.floor(e[2]/1e3),"k")})),r.a.createElement("div",{className:"square"},"> ",Math.floor(y[y.length-3][2]/1e3),"k")),r.a.createElement("span",null,"Source: US Census ACS (2018)"),r.a.createElement("div",{className:"histogram"},t.map((function(e,t){var a=t===i;return r.a.createElement("div",{key:t,style:{background:a?"#888":"#444",width:24,height:e/o*100}})}))),t.length?r.a.createElement("div",null,r.a.createElement("small",null,"Least to Most"),r.a.createElement("br",null),c?r.a.createElement("span",null,"Median: ",c.replace("age_","").replace("_"," \u2013 ")):null):null)}var M=[[2016,"President","EL16G_PR_D","EL16G_PR_R"],[2016,"Governor","EL16G_GV_D","EL16G_GV_R"],[2016,"US Senate","EL16G_US_1","EL16G_USS_"],[2014,"US Senate","EL14G_US_1","EL14G_USS_"],[2012,"President","EL12G_PR_D","EL12G_PR_R"],[2012,"Governor","EL12G_GV_D","EL12G_GV_R"],[2008,"Governor","EL08G_GV_D","EL08G_GV_R"],[2008,"US Senate","EL08G_USS_","EL08G_US_1"],[2010,"US Senate","EL10G_USS_","EL10G_US_1"]];function w(e){var t=e.selected,a={};if(t.length){var n=Object.keys(t[0].properties).filter((function(e){return 0===e.indexOf("EL")}));n.forEach((function(e){return a[e]=0})),t.forEach((function(e){n.forEach((function(t){return a[t]+=e.properties[t]}))}))}return r.a.createElement("div",null,r.a.createElement("span",null,"Layer: Vote Partisanship"),r.a.createElement("p",null,"Source: MGGG, North Carolina General Assembly, National Historic GIS (NHGIS)"),r.a.createElement("br",null),r.a.createElement("select",{value:e.selectedElection,onChange:e.changeElection},M.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e[0]+" "+e[1])}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,"Two-party vote share"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Year"),r.a.createElement("th",null,"Position"),r.a.createElement("th",null,"Democratic"),r.a.createElement("th",null,"Republican"))),r.a.createElement("tbody",null,M.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]),r.a.createElement("td",{className:"digits"},(a[e[2]]||0).toLocaleString()),r.a.createElement("td",{className:"digits"},(a[e[3]]||0).toLocaleString()))})))))}var j=[["White","NH_WHITE",1],["Black","NH_BLACK",1],["Hispanic","HISP",.81],["Asian","NH_ASIAN",.65],["American Indian","NH_AMIN",.93],["Native Hawaiian or Pacific Islander","NH_NHPI",.02],["Other","NH_OTHER",.2],["2+ Races","NH_2MORE",.13]],N=[0,1,2,3,4,5,6,7,8].map((function(e,t){return"rgba(".concat(200*(8-t)/8,", ").concat(200*(8-t)/8,", 255, ").concat(t/8*.6,")")}));function F(e){e.selected;return r.a.createElement("div",null,r.a.createElement("span",null,"Source: US Census ACS (2018)"),r.a.createElement("br",null),r.a.createElement("select",{value:e.focusRace,onChange:e.changeFocus},j.map((function(e,t){return r.a.createElement("option",{value:t,key:t},e[0])}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"palette gradient",style:{background:"linear-gradient(to right, rgba(200, 200, 255, 0), rgba(0, 0, 255, 0.6))"}}),r.a.createElement("div",{className:"nums"},N.map((function(t,a){return r.a.createElement("div",{className:"square",key:a},(Math.min(1,j[e.focusRace][2]+.01)*a/.08).toFixed(1))})),r.a.createElement("div",{className:"palette",style:{textAlign:"center",width:330}},"% of blockgroup")))}var R=function(e){return r.a.createElement("span",{style:{background:e}})};function G(e){e.selected;return r.a.createElement("div",null,r.a.createElement("span",null,"Layer: Environment"),r.a.createElement("br",null),r.a.createElement("span",null,"Source: North Carolina Department of Environmental Quality"),r.a.createElement("br",null),r.a.createElement("span",null,"Environmental Map Key"),r.a.createElement("br",null),r.a.createElement("ul",{className:"colorList"},r.a.createElement("li",null,R("purple")," Title V"),r.a.createElement("li",null,R("green")," Synthetic Minor"),r.a.createElement("li",null,R("red")," Small"),r.a.createElement("li",null,R("blue")," Permit Exempt"),r.a.createElement("li",null,R("orange")," Registered"),r.a.createElement("li",null,R("yellow")," Permit/Registration Pending")))}function C(e){e.selected;return r.a.createElement("div",null,r.a.createElement("span",null,"Layer: Hospitals"),r.a.createElement("br",null),r.a.createElement("span",null,"Source: Homeland Infrastructure Foundation"))}function I(e){e.selected;return r.a.createElement("div",null,r.a.createElement("span",null,"Layer: Colleges & Universities"),r.a.createElement("br",null),r.a.createElement("span",null,"Source: Homeland Infrastructure Foundation"))}var H=a(4);var x=function(){function e(t,a,n){Object(o.a)(this,e),this.map=t,this.layer=a,this.id=a.id,this.sourceId=a.source,this.type=a.type,this.sourceLayer=a["source-layer"],n?n(t,a):t&&t.addLayer(a),this.getFeature=this.getFeature.bind(this)}return Object(s.a)(e,[{key:"addToMap",value:function(e){e&&!this.map&&(this.map=e,e.addLayer(this.layer))}},{key:"remove",value:function(){this.map&&(this.map.removeLayer(this.id),this.map=null)}},{key:"setOpacity",value:function(e,t){this.setPaintProperty("".concat(t?"text":this.type.replace("symbol","icon"),"-opacity"),e)}},{key:"setColor",value:function(e){this.setPaintProperty("".concat(this.type,"-color"),e)}},{key:"getColor",value:function(){return this.getPaintProperty("".concat(this.type,"-color"))}},{key:"setPaintProperties",value:function(e){for(var t in e)this.setPaintProperty(t,e[t])}},{key:"setFeatureState",value:function(e,t){this.map.setFeatureState({source:this.sourceId,sourceLayer:this.sourceLayer,id:e},t)}},{key:"setPaintProperty",value:function(e,t){this.map.setPaintProperty(this.id,e,t)}},{key:"getPaintProperty",value:function(e){return this.map.getPaintProperty(this.id,e)}},{key:"getFeatureState",value:function(e){return this.map.getFeatureState({source:this.sourceId,sourceLayer:this.sourceLayer,id:e})}},{key:"getFeature",value:function(e){return this.map.querySourceFeatures(this.sourceId,{sourceLayer:this.sourceLayer,filter:["==",["id"],e]})[0]}},{key:"queryRenderedFeatures",value:function(){return this.map.queryRenderedFeatures(null,{layers:[this.id]})}},{key:"querySourceFeatures",value:function(){return this.map.querySourceFeatures(this.sourceId,{sourceLayer:this.sourceLayer})}},{key:"getAssignment",value:function(e){return this.getFeatureState(e).color}},{key:"setAssignment",value:function(e,t){this.setFeatureState(e.id,Object(H.a)({},e.state,{color:t}))}},{key:"on",value:function(e){for(var t,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];(t=this.map).on.apply(t,[e,this.id].concat(n))}},{key:"off",value:function(e){for(var t,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];(t=this.map).off.apply(t,[e,this.id].concat(n))}},{key:"untilSourceLoaded",value:function(e){var t=this;if(this.map.isSourceLoaded(this.sourceId))return e();this.map.on("sourcedata",(function a(){return e((function(){return t.map.off("sourcedata",a)}))}))}}]),e}(),A=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e,n,r){var i;return Object(o.a)(this,a),(i=t.call(this,e)).radius=n,i.hoveredFeatures=[],i.setMapSelection=r,i}return Object(s.a)(a,[{key:"hoverOff",value:function(){var e=this;this.hoveredFeatures.forEach((function(t){var a=e.layer.getFeatureState(t.id);e.layer.setFeatureState(t.id,Object(H.a)({},a,{hover:!1}))})),this.hoveredFeatures=[],this.setMapSelection(this.hoveredFeatures)}},{key:"hoverOn",value:function(e){var t=this;this.hoveredFeatures=e,this.deactivatedHover||this.hoveredFeatures.forEach((function(e){t.layer.setFeatureState(e.id,Object(H.a)({},e.state,{hover:!0}))})),this.setMapSelection(this.hoveredFeatures)}},{key:"onMouseMove",value:function(e){var t=function(e,t){var a=[e.x+t,e.y+t];return[[e.x-t,e.y-t],a]}(e.point,this.radius),a=this.layer.map.queryRenderedFeatures(t,{layers:[this.layer.id]});a.length>0&&(this.hoverOff(),this.hoverOn(a))}}]),a}(function(){function e(t){Object(o.a)(this,e),this.layer=t,this.hoveredFeature=null,this.deactivatedHover=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.hoverOff=this.hoverOff.bind(this)}return Object(s.a)(e,[{key:"hoverOff",value:function(){null!==this.hoveredFeature&&(this.layer.setFeatureState(this.hoveredFeature.id,Object(H.a)({},this.hoveredFeature.state,{hover:!1})),this.hoveredFeature=null)}},{key:"hoverOn",value:function(e){this.hoveredFeature=e,this.deactivatedHover||this.layer.setFeatureState(e.id,Object(H.a)({},e.state,{hover:!0}))}},{key:"onMouseMove",value:function(e){e.features.length>0&&(this.hoverOff(),this.hoverOn(e.features[0]))}},{key:"onMouseLeave",value:function(){this.hoverOff()}},{key:"activate",value:function(e){e?this.deactivatedHover=!1:(this.layer.on("mousemove",this.onMouseMove),this.layer.on("mouseleave",this.onMouseLeave),this.layer.on("touchmove",this.onMouseMove),this.layer.on("touchend",this.onMouseLeave))}},{key:"deactivate",value:function(e){e?this.deactivatedHover=!0:(this.layer.off("mousemove",this.onMouseMove),this.layer.off("mouseleave",this.onMouseLeave),this.layer.off("touchmove",this.onMouseMove),this.layer.off("touchend",this.onMouseLeave))}}]),e}());window.mapboxgl.accessToken="pk.eyJ1IjoiZGlzdHJpY3RyIiwiYSI6ImNqbjUzMTE5ZTBmcXgzcG81ZHBwMnFsOXYifQ.8HRRLKHEJA0AismGk2SX2g";var T=[{name:"Age",units:"blockgroups"},{name:"Income",units:"blockgroups"},{name:"Race",units:"blockgroups"},{name:"Elections",units:"precincts"},{name:"Environment",units:"points"},{name:"Colleges",units:"points"},{name:"Hospitals",units:"points"}],U=[{id:0,color:"#0099cd"},{id:1,color:"#ffca5d"},{id:2,color:"#00cd99"}];U.forEach((function(e){e.hoverColor=d(e.color,-.3)}));var B=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this)).state={mapLoaded:!1,currentColorLayer:0,currentUnitLayer:"",unitLayers:{},pointLayers:{},mapSelection:[],selectedElection:0,focusRace:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={nc:{center:[-80.1,35.2154083],zoom:5.5}};this.map=new window.mapboxgl.Map({container:this.refs.map,style:"mapbox://styles/mapbox/light-v10",center:t.nc.center,zoom:t.nc.zoom,attributionControl:!1,pitchWithRotate:!1,dragPan:!0,touchZoomRotate:!0}),this.map.on("load",(function(){var t=new window.MapboxGeocoder({accessToken:window.mapboxgl.accessToken,marker:{color:"orange"},mapboxgl:window.mapboxgl});e.map.addControl(t,"top-left"),e.map.addControl(new window.mapboxgl.NavigationControl),fetch("/nc-districts/nc-geo/current_districts.geojson").then((function(e){return e.json()})).then((function(t){e.map.addSource("districts",{type:"geojson",data:t}),new x(e.map,{id:"districts",source:"districts",type:"line",paint:{"line-color":"#555","line-width":1.5}})})),e.map.addSource("precincts",{type:"vector",url:"mapbox://districtr.nc_precincts"});var a=new x(null,{id:"precincts-borders",source:"precincts","source-layer":"nc_precincts",type:"line",paint:{"line-color":"#777777","line-width":["interpolate",["linear"],["zoom"],0,0,7,1],"line-opacity":.3}}),n=new x(null,{id:"precincts",source:"precincts","source-layer":"nc_precincts",type:"fill",paint:{"fill-color":f(U),"fill-opacity":.8}}),r=new A(n,20,e.setMapSelection.bind(e));e.map.addSource("blockgroups",{type:"vector",url:"mapbox://districtr.nc_bg_blockgroups"});var i=new x(e.map,{id:"blockgroups-borders",source:"blockgroups","source-layer":"nc_bg_blockgroups",type:"line",paint:{"line-color":"#777777","line-width":["interpolate",["linear"],["zoom"],0,0,7,1],"line-opacity":.3}}),c=new x(e.map,{id:"blockgroups",source:"blockgroups","source-layer":"nc_bg_blockgroups",type:"fill",paint:{"fill-color":f(U),"fill-opacity":.8}}),o=new A(c,20,e.setMapSelection.bind(e));o.activate(),fetch("/nc-districts/nc-geo/nc_industry.geojson").then((function(e){return e.json()})).then((function(t){e.map.addSource("enviro",{type:"geojson",data:t}),e.state.pointLayers.Environment=new x(null,{id:"enviro",source:"enviro",type:"circle",paint:_})})),fetch("/nc-districts/nc-geo/nc_colleges.geojson").then((function(e){return e.json()})).then((function(t){e.map.addSource("colleges",{type:"geojson",data:t}),e.state.pointLayers.Colleges=new x(null,{id:"colleges",source:"colleges",type:"circle",paint:{"circle-radius":4,"circle-color":"blue"}})})),fetch("/nc-districts/nc-geo/nc_hospitals.geojson").then((function(e){return e.json()})).then((function(t){e.map.addSource("hospitals",{type:"geojson",data:t}),e.state.pointLayers.Hospitals=new x(null,{id:"hospitals",source:"hospitals",type:"circle",paint:{"circle-radius":4,"circle-color":"red"}})})),e.setState({currentUnitLayer:"blockgroups",unitLayers:{blockgroups:c,blockgroups_border:i,blockgroups_cursor:o,precincts:n,precincts_border:a,precincts_cursor:r},mapLoaded:!0}),e.paintAge()}))}},{key:"setMapSelection",value:function(e){this.setState({mapSelection:e})}},{key:"changeElection",value:function(e){var t,a,n=e?e.target.value:this.state.selectedElection,r=M[n];this.state.unitLayers.precincts.setPaintProperty("fill-color",(t=r[2],a=r[3],["case",[">",["get",t],["get",a]],["case",["==",["feature-state","hover"],!0],["interpolate",["linear"],["/",["get",t],["+",["get",t],["get",a]]]].concat(Object(p.a)(b)),["interpolate",["linear"],["/",["get",t],["+",["get",t],["get",a]]]].concat(Object(p.a)(E))],["case",["==",["feature-state","hover"],!0],["interpolate",["linear"],["/",["get",a],["+",["get",t],["get",a]]]].concat(Object(p.a)(L)),["interpolate",["linear"],["/",["get",a],["+",["get",t],["get",a]]]].concat(Object(p.a)(k))]])),this.setState({selectedElection:n})}},{key:"changeFocus",value:function(e){var t=e?e.target.value:this.state.focusRace,a=j[t];this.state.unitLayers.blockgroups.setPaintProperty("fill-color",S(a)),this.setState({focusRace:t})}},{key:"paintAge",value:function(){this.state.unitLayers.blockgroups.setPaintProperty("fill-color",g),this.state.unitLayers.blockgroups.setPaintProperty("fill-opacity",.4)}},{key:"paintIncome",value:function(){this.state.unitLayers.blockgroups.setPaintProperty("fill-color",y),this.state.unitLayers.blockgroups.setPaintProperty("fill-opacity",.4)}},{key:"paintRace",value:function(){this.state.unitLayers.blockgroups.setPaintProperty("fill-color",S(j[this.state.focusRace])),this.state.unitLayers.blockgroups.setPaintProperty("fill-opacity",.6)}},{key:"switchLayer",value:function(e){var t=T[e];"points"===T[this.state.currentColorLayer].units&&this.state.pointLayers[T[this.state.currentColorLayer].name].remove(),"points"===t.units?(this.state.pointLayers[t.name].addToMap(this.map),this.setState({currentColorLayer:e})):t.units===this.state.currentUnitLayer?this.setState({currentColorLayer:e}):(this.state.unitLayers[this.state.currentUnitLayer+"_cursor"].deactivate(),this.state.unitLayers[this.state.currentUnitLayer].remove(),this.state.unitLayers[this.state.currentUnitLayer+"_border"].remove(),this.state.unitLayers[t.units].addToMap(this.map),this.state.unitLayers[t.units+"_border"].addToMap(this.map),this.state.unitLayers[t.units+"_cursor"].activate(),this.setState({currentUnitLayer:t.units,currentColorLayer:e})),"Age"===t.name?this.paintAge():"Income"===t.name?this.paintIncome():"Race"===t.name?this.paintRace():"Elections"===t.name&&this.changeElection()}},{key:"render",value:function(){var e=T[this.state.currentColorLayer].name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"options"},r.a.createElement(m,{labels:T,switchLayer:this.switchLayer.bind(this),disabled:!this.state.mapLoaded})),r.a.createElement("div",{className:"map",ref:"map"}),r.a.createElement("div",{className:"legend"},r.a.createElement("div",{className:"outputs"},"Units: ",this.state.currentUnitLayer,r.a.createElement("br",null),"Age"===e?r.a.createElement(O,{selected:this.state.mapSelection}):null,"Income"===e?r.a.createElement(P,{selected:this.state.mapSelection}):null,"Elections"===e?r.a.createElement(w,{selected:this.state.mapSelection,selectedElection:this.state.selectedElection,changeElection:this.changeElection.bind(this)}):null,"Race"===e?r.a.createElement(F,{selected:this.state.mapSelection,focusRace:this.state.focusRace,changeFocus:this.changeFocus.bind(this)}):null,"Environment"===e?r.a.createElement(G,{selected:this.state.mapSelection}):null,"Hospitals"===e?r.a.createElement(C,{selected:this.state.mapSelection}):null,"Colleges"===e?r.a.createElement(I,{selected:this.state.mapSelection}):null)))}}]),a}(r.a.Component);var q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("section",null,r.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.51a947f5.chunk.js.map